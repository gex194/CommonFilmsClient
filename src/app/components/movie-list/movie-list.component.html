<div class="card">
  <p-data-view #dv [value]="movies()" [layout]="layout">
    <ng-template #header>
      <div class="flex justify-end">
        <p-select-button [(ngModel)]="layout" [options]="options" [allowEmpty]="false">
          <ng-template #item let-item>
            <i class="pi" [ngClass]="{ 'pi-bars': item === 'list', 'pi-table': item === 'grid'}"></i>
          </ng-template>
        </p-select-button>
      </div>
    </ng-template>
    <ng-template #list let-items>
      <div *ngFor="let item of items; let first = first">
        <div class="flex flex-col sm:flex-row sm:items-center p-6 gap-4" [ngClass]="{'border-t border-surface-200 dark:border-surface-700': !first}">
          <app-movie-list-item [movie]="item"></app-movie-list-item>
        </div>
      </div>
    </ng-template>
    <ng-template #grid let-items>
      <div *ngFor="let item of items; let first = first" class="col-span-12 sm:col-span-6 md:col-span-4 xl:col-span-6 p-2">
        <div class="flex flex-col sm:flex-row sm:items-center p-6 gap-4" [ngClass]="{'border-t border-surface-200 dark:border-surface-700': !first}">
          <app-movie-list-item [movie]="item"></app-movie-list-item>
        </div>
      </div>
    </ng-template>
  </p-data-view>
</div>

